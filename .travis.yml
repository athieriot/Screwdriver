language: scala
env:
   - PLAY_VERSION=2.0.1
scala:
   - 2.9.1
before_script: 
   - wget http://download.playframework.org/releases/play-${PLAY_VERSION}.zip
   - unzip -q play-${PLAY_VERSION}.zip 
   - export PHANTOMJS_EXECUTABLE='phantomjs --local-to-remote-url-access=yes --ignore-ssl-errors=yes'
   - export DISPLAY=:99.0
   - sh -e /etc/init.d/xvfb start
   - play-${PLAY_VERSION}/play start
script:
   - play-${PLAY_VERSION}/play test
   - DISPLAY=:99.0 ./tools/casperjs/bin/casperjs test ./test/casper/
after_script:
   - play-${PLAY_VERSION}/play stop
